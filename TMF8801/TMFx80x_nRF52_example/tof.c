#include <stdlib.h>
#include <stdint.h>
#include <string.h>
#include <time.h>

#include "tof.h"

#define PATH_MAX          (4096)
#define TMF8801_I2C_ADDR  (0x41)

static const uint8_t firmware_file[] = 
":020000042000DA\r\n"
":100000006DC941853D15AA51F4D29EA8A7AC77E9E8\r\n"
":10001000F9EC202463B8F1A50BA765B432B818D762\r\n"
":100020005CF400D0DCFDD9D598AF6F40960AB2FAE7\r\n"
":100030009E1344F86F5BF165A68867D7750A4A7FFF\r\n"
":10004000819CF6917BCFF27C7D84F3A5F6EBD2FA0E\r\n"
":1000500059017B81B2A9310B8D149DFEAA245A5AF5\r\n"
":1000600077F000008876BA20D133B266CFD937DD79\r\n"
":100070004CF85EAD8CF5F47A603DFB054BB926A5D6\r\n"
":10008000DFF1E3C77E55EC509CE3C9DA91AE5E9F89\r\n"
":10009000130E9652278E06226369AC619C23F138B9\r\n"
":1000A0005F3A1D03BDCADA42BB215535C830506DD9\r\n"
":1000B00009BF32397DF14B9C0933F0A1BD1B89CDBD\r\n"
":1000C000CC755192528EA8D1D2ED6B6341380F227C\r\n"
":1000D000FFA66AE3E07883F595C28877E04B9CAD94\r\n"
":1000E00032E43985BF4E2C21CF199F93FD9BFA1521\r\n"
":1000F0002DB57CD14383584F8C663EAAD2D266A1DF\r\n"
":1001000056801AF1651F4DC52264B0027F6A55CE34\r\n"
":10011000A084626792E1F98DE50F115B4A4D4ADDDB\r\n"
":10012000305BE70FDB52D39AA60F71D05C4249FADD\r\n"
":10013000A89E8B97E20D13F6924C97F429407444D5\r\n"
":10014000E9600B3FD5D83B798F15488209C58110EE\r\n"
":100150005BF8E1C742121B9A0353411635C8CB63C3\r\n"
":10016000C6B01484EB297E5F114119EFEED5008DE6\r\n"
":10017000F6C57C895424D2BDC1EDCE9A88FFE62D08\r\n"
":10018000573450CC60C7CF50CC205B97CC021B4C6F\r\n"
":10019000BF6E1F86C2FB0783CADE083AF499E13CB2\r\n"
":1001A00079F5CCFA8F19C8390F5E7BFA9A99AD7E32\r\n"
":1001B0001774F10C1D8FD8054AA30622A88377DE99\r\n"
":1001C00051774B74D01260874561F5BABD419B1BD6\r\n"
":1001D000E5B5FCA998FC6F2971BB196EB4C3402822\r\n"
":1001E000B7C7614DA3B1273C7F126869D7F4871C5C\r\n"
":1001F0007F416B3AF85E9503A54EB2704AECC11090\r\n"
":10020000E6721BA731D1923C96877FCF768AC4DCF9\r\n"
":100210005F6992AEA9F5639AC467BA150BB776F316\r\n"
":1002200056653741853D85A1C024099066FF0BE8DE\r\n"
":10023000BD54EF83BEB06DB8DE303BF89AC11C7F71\r\n"
":100240002E72C2D7BCD7CAAF977D5F5968570B785B\r\n"
":100250008FD263C4943B264AB9600869886691C30B\r\n"
":100260005CD777FD461D3AB376F7635E1C846687DC\r\n"
":1002700044FF6607FC51CEAEB8E844510D6C79C01E\r\n"
":10028000FCDF578DDFF490F5D501A21F0570262FF6\r\n"
":1002900030CE07060057FDCB40A6A8CAE7E0382FAE\r\n"
":1002A000C8B70430BB9D24DB8E8DA4DC9DFBE651DA\r\n"
":1002B0005EB74623572D764D0B850456A01F3C177D\r\n"
":1002C000FB8D9CBF5AEC5A07227F976D2BE45A781E\r\n"
":1002D000343DC1FB60E7F23C79F06DB2B7537B155A\r\n"
":1002E000042F91580527514217C37738EBED653C31\r\n"
":1002F000DF74CEC41C759E2D2D19F3B33A882725C3\r\n"
":1003000028CB58CFCBD8BD89FF04E9B47112D13CBA\r\n"
":10031000A579D3CA9CF63A9CA8E4C27F3AFBA0CD4B\r\n"
":10032000AC8BB3ABAA6770E6D67B078FED75A6C919\r\n"
":1003300096BB74EC3C62C184F7081AE412124600C2\r\n"
":10034000E7B4C9D5F2BD2EED1E1DCCB001EB10C235\r\n"
":1003500043BBDD20EBC04B6F0D386C6D57DA94CE8C\r\n"
":1003600087EE37077E117F230B14561FB6ACF82F8C\r\n"
":1003700010A755D7B6766026D7D9055CEB3CB39A63\r\n"
":100380007370E9CF3F67C780034AF3407F409C45C5\r\n"
":100390007A43945FA3147E019070D1CBEA08E98A76\r\n"
":1003A000537C4B3EECE768470385D892499708D7C2\r\n"
":1003B000DB9890F3B874F2B77F12F8902F81CCF2EB\r\n"
":1003C0007F8188C4C7A24FA588F527363392BC6CBD\r\n"
":1003D000A2385595AE501EEA2BDA0BED2EF1C17402\r\n"
":1003E0000A9924D405A9C5B7D82DD9435C752B4CDF\r\n"
":1003F0003926CE6855BFE4EB11C196D191A582395B\r\n"
":100400002EFEB20547566457CE585569B16AF1C100\r\n"
":10041000C46D217738C6EFC362ED000B74FEC03F98\r\n"
":100420004C841340C0CB1426369B5421F67B4E4699\r\n"
":10043000C11F9822F3F1A254F9718ED51B7ABD51D8\r\n"
":100440007B58AD0D5316D8FAF7B0D0732A338F9F6F\r\n"
":1004500048A1530C27CB51E6481EBB7D7FB78FF7D1\r\n"
":100460007B94B8BEC607D8AEBD1BC03C71BAD06E77\r\n"
":10047000F321F40AE1E2A441430BEB80499CB0C0B4\r\n"
":10048000C3942964F2C31090F322D52004546E055E\r\n"
":1004900072BE78DD7ABBECE1C1887A285744946358\r\n"
":1004A000196A2ED893E5524FC8D4A8DA110C85AD3D\r\n"
":1004B00020BB36452DDB54D55ACF93A5128FE115BD\r\n"
":1004C00009BC3FDC21FEF5C85A428978FBF29BB695\r\n"
":1004D000813F10FB80365857C6BF4331088108D88A\r\n"
":1004E000F49B10D8DB45D09740FDB75A9E83BFCC14\r\n"
":1004F000AC45DBD48F39D91A75698A092387F76D22\r\n"
":100500003EF6DE59512F94C37E132B8216166F9A36\r\n"
":100510004BD905B1CC0E4B70AE9B9FFCC77B9A0D9F\r\n"
":10052000F20D721DF202A85127AB0596C0317EF084\r\n"
":100530001D5CA3822C7A65FFDA79B04AA23CD2E72F\r\n"
":10054000C57F5854B80525402284A7184ACA0333EA\r\n"
":10055000C982B5D65559426EE47520FC531B49FD3E\r\n"
":10056000D756590790C5E1A79FAB7F86F880DCAED0\r\n"
":10057000D96C795B4DE47DB400EB71D60D5E20BB88\r\n"
":10058000D2ADA610506D5F703080D8FB419EF21541\r\n"
":1005900059C779B8D1B551F94FCC8240BFBC07E6F5\r\n"
":1005A0003253756676265AE45CCA10709D39EA802B\r\n"
":1005B000F10E44A3FBC0705F147F6835A9D7C31A3E\r\n"
":1005C000641BF96A96BC9D6AE3FBEC2C56A35C772E\r\n"
":1005D0000652991AE028DC57853697A927A9652481\r\n"
":1005E000A52A410AE2FE290A2BF0D6F6113382FE33\r\n"
":1005F000E20FDE777E7FBCC7A178AE041914649445\r\n"
":10060000172A46017FAA98B9AB602E387F1ADEA858\r\n"
":100610008385D88DED12ED3DC96171FCEE63E8591B\r\n"
":1006200016790AA52DDDF0E71D904E2B637C444A18\r\n"
":100630000049BFBDB205159DEB6372C1E660416F15\r\n"
":1006400053BB9C61CA28960B052449FAFFA6EC739C\r\n"
":100650009239FDEFEAF3A8C08E33E14DF3910CF926\r\n"
":100660000A01CCE535522290B7F03F70808561C811\r\n"
":1006700017C81487939C6B7B71972F17064C779044\r\n"
":1006800018E1A4D0928E7A888FB1855553A5E05990\r\n"
":1006900049ED7CAABDD656E5E89C84C19266E73652\r\n"
":1006A000CAE3108CF46A98E7E465A15AB05718457C\r\n"
":1006B000816A97935A060505E618EC5BF83B184AE1\r\n"
":1006C000B20E384673BC3DAEE5B9A1907252B8DAAD\r\n"
":1006D0009877304E81DDE4C3E6B7BF4EE11907B825\r\n"
":1006E00077F842DA0F30257D51C9390143A3BD6A3D\r\n"
":1006F000A67385297BA890C0887ACAE4D5A3FE5B3F\r\n"
":10070000FC0BAD13AD72F4F7F478A0BE6447EEB401\r\n"
":10071000758E49B87CC26CACE6AC4DD1016E41948B\r\n"
":10072000D663255A2BF97DBACA2D61078C04408AFD\r\n"
":1007300034B31C425C3D0657E5FFE0105AB35698AF\r\n"
":10074000ECDF8AFBBFB699FDE0C2738BE210E9BF14\r\n"
":100750007B90189C6CDE3A3EBEE780CAF636E919FB\r\n"
":10076000063EC59AC179720CF9CE3A5F85DAC21C91\r\n"
":100770000B8EF7667EDC5267B05F12F03DE2DD8AD9\r\n"
":1007800063DCB65E0215BB877052B82E7BF3A52FD3\r\n"
":1007900078C5D1949711AED9467C1AE3FD633A141B\r\n"
":1007A00096F65940299BC31B962056304198EF3F3F\r\n"
":1007B000B75A9179D554979C992E491EA79CEF7DE5\r\n"
":1007C000F0B8E59FC256E5AAA59C3E29F8EA5A056D\r\n"
":1007D000D9666DA0F532B198CD24CAB750892C687E\r\n"
":1007E000B9D2552F7697DCB5648E5D4FC7CAAD8EF2\r\n"
":1007F000F9F7E13748D5D4A72888638C722925EF0B\r\n"
":100800008E497F808311626F5AE8237B44B8B6BC5F\r\n"
":1008100071B43752D4AF8C5D8AEF1C4F15BBDCEC42\r\n"
":1008200045E248045939D1E6F5D6170D12EBB5A3C8\r\n"
":10083000CF251CFB40722BE858F0C066D73F3D34F3\r\n"
":10084000BAC4E2BE40927C0D7973BA7C57B9E8C451\r\n"
":100850003ECFDF4371D377BFF2D573F63EFA00B0D7\r\n"
":10086000772DAADFF761E2E9E01EA61EEE5FE65AE9\r\n"
":10087000861825059BA396A8D859EBAB0DD1E16A44\r\n"
":10088000B9EC7D5F02706E0CCB255C5D68E34BFEBE\r\n"
":10089000A73C51E2D27744DADC24202F7BC0E3630B\r\n"
":1008A000726BF21F4B59FF0DFB69F81FC1F84D2108\r\n"
":1008B000FF6B2860723208D01DF8DF255C05EE3929\r\n"
":1008C000EB7EF4BAFAD0836A815E5325E16F3BB7C1\r\n"
":1008D000A5775B5C438ED2C73984006DA80C1CB928\r\n"
":1008E00079DFEEBDC8FAAC6BE33F4BFB6109041442\r\n"
":1008F0002574A2C4F242304C4103910587D419A655\r\n"
":10090000B517149EAD62C346179A3A9A59C4812509\r\n"
":10091000B5868254EA342288787DF0DF1D1C78F594\r\n"
":10092000B6470E5C212D41FA6138BDC5E63BB46087\r\n"
":100930001BD7C20AFE5A1A58BC366A932DB1A6A814\r\n"
":10094000B17C8028A5F43A009A0B807886964FDE19\r\n"
":10095000AEF4F67B419949C665C6657E10223A54CD\r\n"
":100960000BFD6290C1FE76DF611F9453B85ADE9A88\r\n"
":100970005E2EA206965F9CAA27087A98AD08F0E141\r\n"
":10098000E1F9DD7CD67A5891CD623E8CF2CA052918\r\n"
":10099000295D14DDA92AD23917A2426972935188C0\r\n"
":1009A00017517DC63AD944F74863D6CE17FA507C22\r\n"
":1009B00072C1C8D1705A0E6A0CE2BD96FFEAAFEF61\r\n"
":1009C000DF7457353346A98B1F0205997615BA4651\r\n"
":1009D000D8DA51A521925A475A2FDA2B8282531125\r\n"
":1009E00093C25061EC419284FD634AA2D82031CD7C\r\n"
":1009F000B9B367D67AA11391534FEDF04B346C85A0\r\n"
":100A00009C54FBE7E837142B759DFAFA3533DE402A\r\n"
":100A1000A53EDBC85C11EF5CAEDE4CAD9D65489237\r\n"
":100A2000969F2AA2F923D63AD039EE9DEFA975AC4C\r\n"
":100A3000AFC111CB3FED8C9DAA4228F4C404525E95\r\n"
":100A40001E7A6FAAA378F18D5A5A7678CE2E5C95CD\r\n"
":100A50005A1A0D6B5B1543A315C21E43D57FA9B56A\r\n"
":100A60006FCCB1E74456ED0063430CF36AFCE377C7\r\n"
":100A700057EEF90CB313647B26BACD133BAE14ECDE\r\n"
":100A8000893475AB3E0F320FDD0605041AA8EAB4AF\r\n"
":100A90006DB431231209698A76904837F760F98D71\r\n"
":100AA000848C74EFAB07F70F604FDD0941A2F56E40\r\n"
":100AB000BF8DDAE3858849D280020793E691C9AAFF\r\n"
":100AC0001F8D364237F82A3B0F250B096213F5EECE\r\n"
":100AD0001A28C347BC8DC56E7BD20DDBB9B2B4B149\r\n"
":100AE0007F1E42E739ACEAA64310CDF2A3FECE1139\r\n"
":100AF000312FF00996277017ACA377F6E1FEE7B324\r\n"
":100B00007BD154BC44894AF9983D38CCC2B2FF66C7\r\n"
":100B10005FEF55B65F07B1DF7C063603FAC3FC858D\r\n"
":100B20005B0A352723BE93094AC43E47F552994DC7\r\n"
":100B300034B22E7594192647E1E308C4C1F0234B63\r\n"
":100B4000600DF1B67503561020F41E0B82A5172216\r\n"
":100B5000B953EA264984C5FC0EECFF0BEDA73C25F2\r\n"
":100B60009C3690AA7F49288D4DA0F4F90AF10D4AD0\r\n"
":100B70007B8C3F2DCE1AA19E001207B160B974F68E\r\n"
":100B8000E151E30A9DB77FE0FFFA053CBD2C0CDF85\r\n"
":100B9000FFA425F4232F8E1DF8D0495654D46BCAD8\r\n"
":100BA000F51CFFAB0E6094935BFEDB015C68522783\r\n"
":100BB000E83A50B06FDB705EC8B0942966F1DD345E\r\n"
":100BC00053CDE0C73DF19DDC09717CBF5C449F7251\r\n"
":100BD0004BE9C89D17F42F0604EB0686177269F6D9\r\n"
":100BE0003BC21F96F3F7D1D11A97799BDCFF09BF5F\r\n"
":100BF00018DEEA60023DA8ED5789864600889BDC36\r\n"
":100C00003E858821C210644162D4050B880975C8ED\r\n"
":100C100073074226918B5F7CDEC14A00818069BAEE\r\n"
":100C20006A19BD0443F4A21B78171F8A7D8A5D6987\r\n"
":100C3000DDA8E3915B27E62F65DE7C536261026EDF\r\n"
":100C400022367D99ABDB65C77FB62A8C903B3CB6DC\r\n"
":100C50001CBAD299B350B59EB35DF0B4692AFA8636\r\n"
":100C600006B53FF6033BE2EAA96362066358F1F278\r\n"
":100C7000253C97432CEEEFC92AF07F9070CA4C4C6C\r\n"
":100C8000ADA8DEEB0528032BED74DA1796CB0260D6\r\n"
":100C900002625AE315EE9BFE4BF721BD66EA1A0C81\r\n"
":100CA0001B8EE820BCD1FC2947495B4AC7BB28AD55\r\n"
":100CB000FC06D06318AC79775D307E918D4A992718\r\n"
":100CC0000CCBA579AC5ED83B1230EDE96C6F396D79\r\n"
":100CD00096304BDF03F96DFDE7EE82798CF2C46745\r\n"
":100CE0000D8679B6CCA972EFB5062CC0FFAA81910A\r\n"
":100CF00042D7F3CA83A415635447D78BEA184556E5\r\n"
":100D0000A12FAFCF5C6F424F9D53ADB36E7885DDA1\r\n"
":100D1000303CAB050E74F85B02434ED7C473B6B8D3\r\n"
":100D2000DE9BAB6F059E523E076FAC2A0F4A9EC8F2\r\n"
":100D30001724BF8E4BCBB1A0D0AEEE4E6E1009DCA7\r\n"
":100D4000B5DA78F1E2EEF03DDB1A4C2D89BBB650F6\r\n"
":100D5000BE7570172A51DBAA531E307F786C7AFF5C\r\n"
":100D60000718CB32CA1CDA0D5EA17AE6F6E7AE416F\r\n"
":100D70003688EBAF2417FEF9DCA6BB79EB8E306228\r\n"
":100D80008CCB58285C2EE8D18B288DF4F83975630C\r\n"
":100D90004F4C473F9B5D1698B7DBBDEFA20FA68374\r\n"
":100DA0001D1AD1E664DAF5EF4DAD366E6E83D94685\r\n"
":100DB0003C628E6DA525CBCB73336F0DE5EADCE885\r\n"
":100DC0009281C67CBD4F5AC32319E83D1628981658\r\n"
":100DD000F895C9E3A6A94308198044E663C63AA278\r\n"
":100DE000BAC5A79D90B85EA800A1D268CBD27067A3\r\n"
":100DF0005FB8795778C795586421EB83A73EC80C34\r\n"
":100E00008D8EC8A834CE1FB4757606129E2A4A76F7\r\n"
":100E1000A50EEE43D052DDE2DDE9C4B379A5B8CC2E\r\n"
":100E20009B4A3A3199D6A4B90D8FC7B3713CA1EA58\r\n"
":100E300046D7F2D4BDAB98417001FF75E8BC4CFEBB\r\n"
":100E4000E2EAC31AA86DC0A2437BAE941D3964299F\r\n"
":100E5000E6B9281382DF645DF8CDED4A17AD03B61D\r\n"
":100E6000F4B87DC9E258E5FD8542E98399396A679E\r\n"
":100E700059F3CEDEC92EFA07B21045B265AEB715EA\r\n"
":100E80009CDF864BEB8632695A4D23236148F8BAC2\r\n"
":100E900011DEE3DC75F42EEBD9368EE2C3CC4EC204\r\n"
":100EA000F15639636F2203A1F12F2474D335720EEA\r\n"
":100EB000F990D736BE40880A22317A7FFBF532930B\r\n"
":100EC00040CA6343469D7B80B541CED5FC53013F6C\r\n"
":100ED000AD9658CC44F573E6C430AE93B4D7DCCEAF\r\n"
":100EE000ED92671F7870C427ACCBDF93E85A06AD4C\r\n"
":100EF000C9DE12F0AE25A7F44072BF55A805005612\r\n"
":100F000051399E98D31483F786D3D2C75E9AA5161B\r\n"
":100F1000EDABB2D1F88FC034DD2F7D0DC0B3DA9CBC\r\n"
":100F2000EB39DAEF4DFDC20407946F9F032B64E5A4\r\n"
":100F3000EEAF9CC730C973ACD9866E5DA165F6E48F\r\n"
":100F4000CF07AFEBF23AC5C58DFAF25E930DFBD336\r\n"
":100F500010BE298C6D5D7342D80C89DEAA2A4EE43E\r\n"
":100F600082BEDA54644F2A8076D91C5DBF30536745\r\n"
":100F700072F15AFDC82E7DE510C054A997FAB70F3B\r\n"
":100F8000F9C86AF760446E5A0435D106E9E03B536C\r\n"
":100F900022AF7BB6660958E23C2F2BDC9A1CC7ECCB\r\n"
":100FA000D01480008D8F222FEBD51AC1175D834599\r\n"
":100FB0004D597EBD83B1F41E92184DD0B987AC2B2C\r\n"
":100FC00052AFA87CBCD7B8ED48F285E4181485244C\r\n"
":100FD000113E44EDCF3C7A7D732D6100739A01463A\r\n"
":100FE00063BF779D972D0B7FEFF2DB5456EF16A270\r\n"
":100FF0004D9AFF91F5DD84248C702C779EA092E8A9\r\n"
":101000006F51D719B45BDF03498C3828FBC0E35715\r\n"
":101010001AB644B412D9EB9689ACCD0B217E0012DE\r\n"
":10102000774A5EE6F017B16244937BDC0410200E31\r\n"
":10103000B1E339F30B88363F4887B2FE0AE9E28F05\r\n"
":1010400017B0B27A599B9A8DA5B1DD786565166E99\r\n"
":101050009A040E71369674B1298C3145F9A3704704\r\n"
":10106000D75A18803F702F2955D01D319AD5D757A0\r\n"
":10107000EC5E9CE04A9451F1FD3A3E931F1B1471C3\r\n"
":10108000BBA66C7F4E1E0B1A4DB3D0F8B74F919391\r\n"
":10109000EE8D7AF553C5C6D6D87E64149FADC5C90A\r\n"
":1010A00019DD12773031287B1DEF3F5BA4761E9B44\r\n"
":1010B0007D61DB79F38D7581ED57AD1F29472FA138\r\n"
":1010C000305D1768E73A9B1CDF08A2EA8E6175C3A2\r\n"
":1010D00070AF5066B2C9EB2372483A66A64B6038CF\r\n"
":1010E0005AF84A2BDC8ED83AE3D1B91554F465533B\r\n"
":1010F00082CC31D27E9475B108C1D58BA67DD00348\r\n"
":101100008A99C8F8A2BC113383F4055D21890134A2\r\n"
":10111000FD02EA9AED1131B93B866F016B8DDA4120\r\n"
":10112000469E8EDE2C669115BAC05655376D1CD87A\r\n"
":1011300046C72EB4A55B75B94BDF613FA894CB7B46\r\n"
":1011400001F65367BA159C6DB297CEDE28CB89BDE8\r\n"
":10115000C3E2493D4DF7499F8B2A39D6D215A13AB2\r\n"
":10116000EF4B6213C95AB7116AE24A24791A4C0547\r\n"
":101170004BBD768446D1A901E7B745D4C415C4FA5E\r\n"
":101180006F5EDE661F494D6CBE86A023CCAB45B5B5\r\n"
":10119000741FBACCF1623F54365F3E19E00DBABC01\r\n"
":1011A000FD3F6A385F0DCFDC8CA84F87CE02EDD0B3\r\n"
":1011B0009EF359DF251749FEE5B46E447839C33FE5\r\n"
":1011C0006A4A67E4FAD27EB9D770DAC250A26E8F4B\r\n"
":1011D000A50914C39179F48DBA1242E802CD9D4B52\r\n"
":1011E00044E688936D72F805ACF572B96572C04338\r\n"
":1011F000EBB7710D0D71D2127FC334770024DB661B\r\n"
":101200001B96F965F603A5860CA4F26B7DCD8EF3D3\r\n"
":1012100057DE4062D7C2CC57FB9D6447E55028EFAC\r\n"
":10122000180B804A423D82CFF274ED44775D185A24\r\n"
":1012300081750382917EF6847970092D1A3633DD2B\r\n"
":10124000BF9EF19036428B794467991311C004E434\r\n"
":101250008E55E8188E92AEB63E400407FE2E57DC3F\r\n"
":10126000B6B7B18F4772CECE29472F39FB981F40B2\r\n"
":101270003ABF2E310389CD0EAD3904A7E24BB176CA\r\n"
":10128000612E90A0A43CC8CE7C6CD4B4F6C951BCED\r\n"
":101290000740EAC1118D479C0FB5F39DB9FE2ACFD7\r\n"
":1012A0003E2F85D74EAFF760A99041B0357960F8F1\r\n"
":1012B000C7D909D7F6CCF4D0E9B14E5CFFD0E81617\r\n"
":1012C00022AB633967CCB954A2F4F1CECEE9C0C0E9\r\n"
":1012D0000B3B403A500863918C6793285735F01CBC\r\n"
":1012E000F956D475B51D6FB362883A4C195AAD2EB4\r\n"
":1012F0007E9DEBCF55E97ECADEDEB2CB228F36D0A3\r\n"
":101300001804179E4C1E4CC48D0B33AFAC9A5A5127\r\n"
":10131000DAF9094EC19C793E06B753E07AAD2EA3A7\r\n"
":10132000E039157E7D4A27517961CEEBFA07C888EE\r\n"
":1013300010DEE3805AC2C4504F7B4254F2B73F4B99\r\n"
":10134000E9CB443669CDDCE0DC339B0D2863136EBA\r\n"
":101350002668D86DF59C838B15FF2462899DDC2E51\r\n"
":10136000119BD71E909D04245199F1ABD0DF90843E\r\n"
":10137000A543EEA971890D5078A7DC9BDF4BC53DD5\r\n"
":1013800063012E40731CA5BC7D2B240C95FA9E2274\r\n"
":10139000F2D45EA8AEFCE0BAE3A60688D1DA5E54C9\r\n"
":1013A000BE89D507EF2B34836D65C0C283EE8BD821\r\n"
":1013B000DB0F5739E3C2FE53BABF832DE78D5BF6CF\r\n"
":1013C000A43C7E9680EE80B0015FEEFCA3ABD2D64B\r\n"
":1013D0008E90C6D60708D5AC54DA4CD47DB8B0F59B\r\n"
":1013E000A44341DF28E15290A772CD9DB6A1555D7F\r\n"
":1013F0007CE9835BFAD58A59687C9DF699F8C75FCA\r\n"
":10140000EB44C0CAE7697446F176DA3F8CE406061D\r\n"
":1014100012BA29DE4AE91208C7F76E00A01D3C4047\r\n"
":10142000FB46E1CC5D468384D6F5C85FD4BE83C954\r\n"
":10143000032D8543B1CAF766AAA26FDB3E6F5BD06E\r\n"
":10144000EEF2C9784FA96B2EA4A66877C867DD8431\r\n"
":10145000FC17AE8F1FF11E1CB7B45317C20CF969ED\r\n"
":101460009F58EA1B324E88A3297F7757F458C62D20\r\n"
":101470006E228486D2B6F8C87E8152196246004731\r\n"
":1014800045C5EC5F5BEFA2F7C48352970E4AA34EAB\r\n"
":101490008024E33BB305F1DA84926D778DFB383815\r\n"
":1014A0000F0AE4D6F96C4827D14AA922C9A5C34D31\r\n"
":1014B000E6B61E2C8A5C122367388695BF2B406BDC\r\n"
":1014C000C9890ABEBD82DC92FCA2F8B8758751A218\r\n"
":1014D000258275288DFD8373BE2971ACCAC232D7AF\r\n"
":1014E000D04B6630C992CF1F7242B5647FFF0312A2\r\n"
":1014F000939896324EF113705A34EEF4DF12DF37C0\r\n"
":1015000036EB004BBAA2FC5569971EB24E37F95C18\r\n"
":10151000D04E0D5F1B2E1827197A7FFB7ECFDA90F5\r\n"
":1015200044ECC9CABE8E0606912C58E97C4280C4A0\r\n"
":10153000BAC86A466417DEE06FBF5FD1C634203197\r\n"
":101540009F693046CA8BC5E405040A7DC737CB2C9A\r\n"
":101550008F6258C3E152F6F462CD4D7795E58EFD6A\r\n"
":1015600015F88979BE882C2EE1A6E4C5E3B335ECE5\r\n"
":101570005B0C7AFF76A5E5F6B39AE91B31006C8027\r\n"
":101580007249AB01BBE5C2FCFE485798C2CFB1F12E\r\n"
":101590002D227BB78B3B67E67E1AA371E64014A928\r\n"
":1015A000664BFED87FEE98E75BAE5F9D907D3D2A4F\r\n"
":1015B0004B64F557E5144B994BF2644C74DEC07CD8\r\n"
":1015C00088AC9C2221D3DA2DF2C08E6AA6A894386A\r\n"
":1015D000AA16922B79B84860F5DE5E23FF405828A2\r\n"
":1015E000054A86EE57201FDD026BFF7FD8E9F94AD6\r\n"
":1015F0009B21877D10E2ED70C959E158BDE81EF7C7\r\n"
":10160000C2AAC2107AF60A3115BD5B36A7E6C0CA77\r\n"
":10161000A7EED4FC6CA97688FDFD8DEB235296983D\r\n"
":10162000F7148386C82C2ACC3333EE3ACA22E786D5\r\n"
":1016300011B246E0309273952232B85183F0E6CE73\r\n"
":10164000BAD934912E1464816F642D3A9DA84A173B\r\n"
":10165000A60E653FFE82798445FDF22666B39F1E85\r\n"
":10166000FA701DF2D8E1B1AE5A849DD52553F78F9B\r\n"
":1016700065B41D54A0B023A04C46350804EEB4C197\r\n"
":101680007C84F39FDA186874EB795AF60465E3EF0B\r\n"
":10169000529D5B6EB9F54956B52DCE9C8DC0F37742\r\n"
":1016A000D8D970679A9A659585B4EE9D2EC8D9C031\r\n"
":1016B0001B568B0FCE8AD45F937D64D1C908BD0AB7\r\n"
":1016C0007B1DC4F59F33D1BFD3587169F92C33CD3D\r\n"
":1016D00054BE47474B85B6E7AE71D90565EB2D89FA\r\n"
":1016E000986CC66C774576238B683B08F86BED9F4A\r\n"
":1016F0005C3CC85076A0BE8407ADE75B9FDF46C167\r\n"
":10170000EAAFBE931322333BCB028F3571432AA637\r\n"
":10171000E4808E2BECD09F5821D0CF650C3C37ED68\r\n"
":101720009CDD81A648586061E3FFAEC6B371DB3330\r\n"
":10173000C525115B77A71376DAD910D6BE890A3989\r\n"
":101740006322E44C366A16D20215BAA442E90D2B84\r\n"
":10175000E64D956382882CFEC3F4E0E2CC2E014076\r\n"
":10176000CBF7BC23FDDAD8485CB2752248511F0C78\r\n"
":101770002D4DA232D0247346AD70C4E66B38663D61\r\n"
":1017800083B409A25BE37AB087CD648D78AA21EE99\r\n"
":1017900017820D803E5311AC58FCDFE7A9C527C561\r\n"
":1017A000C045E39D4160F7BAE011BF8150955A955D\r\n"
":1017B00035BAEF858AF23E61A2C94E53FD254A062D\r\n"
":1017C000B8FF4BA2E225DD59737CEC5E4FACD99B90\r\n"
":1017D000A7ABA58FE4A3BA75FE571F496912A3D81A\r\n"
":1017E00055BA325EFC489A05264DF6B852908A0FDB\r\n"
":1017F000661F70655FEACCE4AE77BFE3748EF0FCE1\r\n"
":10180000BF31363955D4A7E5423B3D4BCC6B7B020B\r\n"
":101810005454C4C8C58A341C0DB8710BF1B4DC0231\r\n"
":1018200004649A7ABEFED0621209F2FA40FD06857F\r\n"
":1018300066D104D3D8BE0F4A5FEE6B97E5CE9825EC\r\n"
":101840006A33F5CA22BF1F6E831EE9DB7522E46E80\r\n"
":10185000B037B446BED3E7031F9ED18F5337FA0D7E\r\n"
":1018600061B0739D8BBD9A8BFE2678941B362AC57A\r\n"
":10187000CC7F168E538A25341DA8DD02FD78D43521\r\n"
":10188000BEA34161758A54476F867E70BFF4A5DCA4\r\n"
":101890006F24DD98DF5C8ECE36D40BC9F07B2ACC6A\r\n"
":1018A000A063A5094DF0847E7A9DA083D503215FB6\r\n"
":1018B000AC52B489807C87B5C081ACDBA4E279727C\r\n"
":1018C00096DE158C4A8DCA30121B0C0C52CC7D2929\r\n"
":1018D000B249489F5EF6D04C8C480A98113E5E365D\r\n"
":1018E00048C9F7B59CB806809BAE144ED80A0F764F\r\n"
":1018F000CE4F3C397C772F5FFCC098DD8B768171B1\r\n"
":101900005FC73C4961E20AEF0B63C2421A4A43AD2A\r\n"
":10191000A5DD4909FF65CE9876B43BA9D1D63AA09A\r\n"
":101920001D1611C48E03402542851AA637B1DB70FF\r\n"
":101930001B39EBB786CA8EB147E6C7FB91A1F823E6\r\n"
":10194000E518FDF10BE96F4135CFD89D2701806E79\r\n"
":10195000DFE39DF0F3659DE3CA840ACDE8076812D2\r\n"
":101960005DD94DF5D7937CA18EE9106C8EC21CDE3B\r\n"
":10197000B15E814ACF7D6C7882848CE4DB454BF28A\r\n"
":1019800000487363EDD64E48B800597EF44E92423B\r\n"
":10199000B107BA058A4B55C03945316F408AD035F9\r\n"
":1019A000727CA310CE34B3DFA2AED63DEE86B50F67\r\n"
":1019B000D3D79BCC9FCC8E32540AF7252BB489DF2A\r\n"
":1019C000E18C010516B99E3AEBEB04AB98CFC386C8\r\n"
":1019D0001200F4E00D11BC6B4F95F54173D7233A1B\r\n"
":1019E000932496024F2E1327D3E2DEA16F8DE927B1\r\n"
":1019F0003F34827C915B941FE3E3977D9C5DCB1425\r\n"
":101A00009D378080507620C2B8E4435EEC7A9B28F4\r\n"
":101A1000EBF80E92F10CF7763054AC8E90A16A8BF5\r\n"
":101A2000DE2C01A3725183FCE6A458721FBFD2B70B\r\n"
":101A300044C0E693899F0EF583220EA31ADD5162FE\r\n"
":101A4000AB1222DC2488F7043A3B9A71820E68DEDE\r\n"
":101A5000DD0381A77305C444E629C066F1536F0313\r\n"
":101A60001B3BA0238ED5C36FCDA0F4A7E87AACEBC7\r\n"
":101A70009E1EC5800AF9E95265BE9622141F417662\r\n"
":101A8000384280BDF66F3C44A39CA5167F1CD05DF8\r\n"
":101A9000B9DFDD44E63D6EC382B95FD734DBBC6B92\r\n"
":101AA00040206270D7A98B2F940C59ABFBBF9634A2\r\n"
":101AB00019010BE51BDC30B7EA72C8BEED6292B7C4\r\n"
":101AC000517A3EB3D516FC11DCD1A4F7CB08C6E69B\r\n"
":101AD0008D9A0665CFDC12D3FA4DB65CAC248182B8\r\n"
":101AE000B071C1CF25A6B224CA796DA02F984C5AE7\r\n"
":101AF000F5745D577CD575882A3DC27A79A6903EEB\r\n"
":101B0000EA32DC79018C8224511B00ED2D4688C815\r\n"
":101B1000C26A87F964F2AF243882E9D7AB875AC525\r\n"
":101B20003780766E142401DAB3848109F087C61DEC\r\n"
":101B3000593476A5716255AEE1FFDBB92114AFC40B\r\n"
":101B4000082D7616546D201857A5637370D59253DF\r\n"
":101B500077332206508BD4BD18835CA34C2CF3F250\r\n"
":101B60000A13E2B64E9C11C1C80D5EEF4F78C0E774\r\n"
":101B700002EA43247AF2434CF7D716BD60C2DFD4A1\r\n"
":101B800072B91B208CABC794C861176FA52786500C\r\n"
":101B900060A32BA0B5259EE869952F835406CC89B8\r\n"
":101BA0001EA0CC2BBBACC149000EDE04AB7A1808DA\r\n"
":101BB00017C0C927B4D2D7ADF91583C0C27B8765DA\r\n"
":101BC00074507C5E505711E327CEF62B9B6DF25D6F\r\n"
":101BD000CA0F1C2F2080789435F0DA8DF3CAF07884\r\n"
":101BE0001E1AD1F36512BB1292D208BFA8F5EE11EE\r\n"
":101BF0009FFF0A3B924565C56B29D4B9ED9D04DB77\r\n"
":101C0000A7BC50A4B6840187C163214E59D7A00C4C\r\n"
":101C1000B74A016F72397C1188C28010BDAE4ED7B1\r\n"
":101C2000DCBF80E9D1AD1A63035295F8017C453FD2\r\n"
":101C30005FB29148277BFEA5EF60B3ACAC947BAB61\r\n"
":101C40002EC1766933E40DFD1D5CC94B6F0AEED4DD\r\n"
":101C500007A407BAD75724E29DFAD95AD62391167A\r\n"
":101C60003BA76049CEDAE051FD348AA031FCC6576B\r\n"
":101C7000B4F1498EC8E6AE3D55783F8627C222E1D1\r\n"
":101C800070938F1C89D535BD45C8BB71ACA8E00FDA\r\n"
":101C9000631C6C79EFE8B95DD5CB6AF5A9332627CB\r\n"
":101CA000FE77A4DF40DFF389763D651EA3EF518602\r\n"
":101CB000AEB9BC8C2DC27452BDEC78D31FC54E4753\r\n"
":101CC000DE1C7D2EBB1B79DF30C3A239BE43D1DBC6\r\n"
":101CD00027AFA980AE0ABCEFD3447ADBB6369ECFDD\r\n"
":101CE000626DB6D5E05EFE47FDDCDEF883B74ACB19\r\n"
":101CF000ED0870C1120BAA568118B1865160915D32\r\n"
":101D0000183171F8468841BBE2FC1E15E99B75024B\r\n"
":101D1000D11FAC18B20AECBC033D32ECFDD9D4960D\r\n"
":101D2000C8B2EE87B3F77C6A8DF5F7541BB70FE89E\r\n"
":101D3000A0D3E901B533589087EBE5A927E5AC05B9\r\n"
":101D40007BDACFE3B78E5C6AE8D059D59725557515\r\n"
":101D50007BAE4FC68B28ECCFF79BBB2A33E130F725\r\n"
":101D60004104CC54B12FEC7A709E4E7E7CF2D25B53\r\n"
":101D70008B3003D7042B26A46C66687DED549BF54D\r\n"
":101D8000F1E078C5FDE0393EA8661D4B862B1EA606\r\n"
":101D9000568EFB0C404AC004884DE0906E48575563\r\n"
":101DA00061B3112368552EF0110AF9B7E42B6910BD\r\n"
":101DB0007D3B3AAECC5F00BFE378F469A96137A2FE\r\n"
":101DC000774CC3A47AC1A837671E3A34AA0B0C5AC1\r\n"
":101DD0007935E09FCB18102C0A75A1AEF29C900CBF\r\n"
":101DE00036EF3FC79B5CE52ECBC7A37B21B07A477C\r\n"
":101DF000EFF42B786D3BA62295F095A982074A76E1\r\n"
":101E0000B45DFE734F5A0EE6D3282E0F9C7D9D1AAB\r\n"
":101E1000008058DE0C75DB3D82CF32E8E962106845\r\n"
":101E2000C12ED96F96F89E0C62C75273861B6771DC\r\n"
":101E30003A651F48DE1DF009F6752FEFE8E1ED0762\r\n"
":101E4000D20D0162FF9AEC289B31A34D4519BBF9D5\r\n"
":101E5000F4F758013EAAA20D02CC6CDE5AAA5C6EC1\r\n"
":101E600029334FF34BAE351A6F20B1198A518811BF\r\n"
":101E70008BDFEE29B733B41E1147226A53971ED465\r\n"
":101E800076C9919583781EA555B073FFFD5DDEA4DC\r\n"
":101E9000257A5F6C42D28C9C488A8732B0363DC12D\r\n"
":101EA0007C29A7B228A710E8CB68A6E2A27475081F\r\n"
":101EB0003023607A119901AB297DCCBB2F2A59DCE4\r\n"
":101EC0003C16DFCC2794480E40CE5FA98E9D293F5B\r\n"
":101ED0001BC550A1439BC05966ADC4CF53CBA6E3ED\r\n"
":101EE000B245BBE745A3DECF870D5AA86721056A37\r\n"
":101EF0006B7F874A5AC1687762B0A3DC73F29DCFCB\r\n"
":101F0000169439DCF8BF6D56E29F0061093B9030B2\r\n"
":101F10005ACE0DBABD1564F4DE207A9F3D03AA9C0B\r\n"
":101F2000BEC40539E404D7A1FA8E343115AF323579\r\n"
":101F3000290AC5FF99E3E0480BBE205E0027397EE1\r\n"
":101F40007158ED83BF64E471130E64CB24D264A195\r\n"
":101F500001358551920D1C8EC2F273AB15CC50F831\r\n"
":101F60004B0DA4C45591CD76B3F0F3AD6422A64BCE\r\n"
":101F70000C07B9555786A5B30BD646FC1A0AF6FED0\r\n"
":101F80002CF657EEF514DA22DFD164823E5CFCC0F9\r\n"
":101F9000978B3F5EE7C56DA2AA48C10A084F20F2A1\r\n"
":101FA0007FB87EF23AF5F0D555E61262FADF40E0EE\r\n"
":101FB000F0A29E3ACE26FC83AF0EC22D7D9EC6EDCA\r\n"
":101FC000286BFE64379FBE2956821F7B5EFBC00EC6\r\n"
":101FD000649BD4759675E5C3B82D59A2EDA0CD3B91\r\n"
":101FE000D8B631963DB53C24F52641DF17528E6FA9\r\n"
":101FF0007226CDA5F4BE6DCA05314B57A262E2240C\r\n"
":10200000D67509C5B56EF444575D7A78BE3044D2B2\r\n"
":10201000069538C9F1D0B34662EE93930D40930A0A\r\n"
":10202000AB38F7CCB5450BD374AFD82839806E5E8A\r\n"
":10203000B4485CFDAE1A8AE0CD2231255F78D6FC2B\r\n"
":10204000DBE6A1D1DCBD9D5AF045163E0D9D1BA6D9\r\n"
":1020500069F2FCA8A4B9ADBB949A3F6C49DB2ED1C0\r\n"
":10206000F97B219DE20627A3DD52921A46D6B7F3EB\r\n"
":10207000E8C3E8E0ABF43AC0F3490132D88217FE76\r\n"
":10208000CD13EBD050DBB55EC48AF2557497F315CF\r\n"
":1020900020B99CF0B8016002B54898629F20CFEC4F\r\n"
":1020A0006D0130A1733AB1C3005D93FD91475FF6B6\r\n"
":1020B000689E01C7E67DFAB76B848652AE451B2346\r\n"
":1020C000E5E12AA2732860EEDE3D7370B7FD50AEE5\r\n"
":1020D0001E4E7A21385E12C3316F6A4DC06EB6440F\r\n"
":1020E000807D467F10071DD85916565A9ACAC209D4\r\n"
":1020F0004477A5D9BF44D0A822B9127DA003E34BF1\r\n"
":10210000D977C920CD724655B4176D9FAB03C04D2A\r\n"
":102110000004DF46D1D65A5FD91D4123A7218B7613\r\n"
":10212000C5C7228E3B24AF098116783E6CF8E30CBC\r\n"
":10213000257DF2E355D0FBE0A9DE0FC806FC61283F\r\n"
":1021400031F47B0072FAFF733EB874A7916CEFA86C\r\n"
":10215000B958BD1DC623B66B6A4BA6200C01F467A7\r\n"
":10216000600F65F4070E1A6E83F733641EC6DDA098\r\n"
":10217000386D47FAD7345E191DC74D49FDF3F0CDD0\r\n"
":102180007F2EAB5FBC01C91E3A62046E8533D92332\r\n"
":102190002BA2B6267C86B4F3980FD7DCF4031999EA\r\n"
":1021A000DA1ACC36F6A2EA9B3FB9C4B7FEA52D9346\r\n"
":1021B000BCA7160B0C97FD8FAD08F0550C9988D372\r\n"
":1021C00013924D33BFA900931F9351A602822F3B58\r\n"
":1021D000262949246C9A822C1237E1BBC8EC24E4EE\r\n"
":1021E000EC90773A7ADB08C01813F5E058B08DC749\r\n"
":1021F000616218873BC7273D5649F246686D29DD65\r\n"
":102200006EA895DE55768AB90A45D5D75582383EEF\r\n"
":10221000BC081E6FE1438317E9083FA8F050E74A66\r\n"
":10222000FAEA63EA0DD96AA4294C657E3539073488\r\n"
":10223000566A53D3309E12156504494AD080ADB713\r\n"
":102240008A9F1A7AF5A239640BC3AD05A5869B2235\r\n"
":10225000AB1C6EC695994E4EB42443962C4D560831\r\n"
":102260004B950D9564FFD63773A1039CC3E96009B4\r\n"
":10227000384CAEDEACAC89596EE7ECBA759775EDAB\r\n"
":10228000CAF89B7164C1A0FA0350FE864FC5FB6279\r\n"
":10229000079B0F110085403D19F596C2A042969705\r\n"
":1022A0006AC6EE5093D4C869170EBEA87D89F29E07\r\n"
":1022B0002EAB102D5F2854CC3BDBDF9E678C820752\r\n"
":1022C000F1CE8019DEB1DD02D384CA4AD2680A6A2F\r\n"
":1022D000F52D58DAC26E296F310BA87165ECFAA69C\r\n"
":1022E000BFB4E636ABA6322937F049EF3F29330EAB\r\n"
":1022F000F498684811F0179899B8B8C9A29E82F06E\r\n"
":10230000C4CAA135A592FB7B101DFEC88E6C7EE26F\r\n"
":102310006EA40552F5D8FF27D00FC20CF273A607A2\r\n"
":10232000713CE925988796E59BB9835914CDD4EF84\r\n"
":10233000E383935201E847954D6D889DA662D7B41B\r\n"
":102340003413A5DAFB24EEFF80D963A6565DAE9E5A\r\n"
":102350004F55481F3B4ADC198E44A5E14E9E205044\r\n"
":10236000F0B631D12A023761E2E9D7ADB97B97C720\r\n"
":10237000DE8D632AF14B5BD2EBB3BC1B83D07F981D\r\n"
":1023800013CE6FB5B84BB5AB2DA5EF7645F13D0C2F\r\n"
":102390002447FB1632F01BB832DDA82700F7AC61EA\r\n"
":1023A000358440EF5AF99BC1511CA4EFBAB54919C5\r\n"
":1023B000CDE79BB9205C9C295B777856C50A35B57B\r\n"
":1023C00045AE00067CA0569AB96FF87BFB85B02617\r\n"
":1023D0009635F564C811C592F74A149F278FCDA989\r\n"
":1023E000F1E20B7EB34A8C06B7E574231E993BF5E8\r\n"
":1023F000172E0185C05B5B7AAE33A1D4CB1293C19B\r\n"
":1024000054B4F73AA628C22255C60B338792C53278\r\n"
":1024100042E7B71B65AA986BD3E9CB34581E1FE877\r\n"
":1024200039A9E3C78F1609C0316A50F94AE48C0E06\r\n"
":10243000F21B4C236995FE987FCFE356E2F7C63135\r\n"
":1024400010E3DF94297E69D0BE8E518CF698E29B12\r\n"
":1024500074E25DE82D3828CC28FC78426AC5F15931\r\n"
":10246000DE69FD8604E71E418C4AB66842F3C3FA72\r\n"
":10247000AFE998F2E30BB42699DBE3041D777BDB2D\r\n"
":10248000B095F07CD4CFD8F56BC5F7E5DE1D0B2AEF\r\n"
":10249000ED5FC84163B33B688E3C6FE0A3C8FFE0CB\r\n"
":1024A0007210D43A71C3FC797D18AA67D75E7DFAA1\r\n"
":1024B000E0E55DB9DAE167014052D1B1EFCCAEF9A8\r\n"
":1024C0003981E7D546BD852E200C5851D30AEB93B0\r\n"
":1024D000C22367ADDD294A04634F70FFC73C64B077\r\n"
":1024E000DEF6EE1058F2D91942C7E4922FF8B6473B\r\n"
":1024F0008EAF95D79A0A12A2E7A95858A424123889\r\n"
":10250000011DE5B9D50A6C2DAE52788900E8E019B5\r\n"
":10251000242DFC818449DD24714DA7AD5E3A9E795E\r\n"
":102520000B4E6BEC070C9F84E77BCA80AE7B399E19\r\n"
":10253000BA4939B7F1156F3F17C8E0DA622C6A2C37\r\n"
":1025400091CDECE07C5BAD7DF586CB949D9C52DC1F\r\n"
":10255000D23F7E1D3BD53AB4ECB0EBE7822E7B85B3\r\n"
":10256000AE1040276D7DDE41822127200B3B8D9BE5\r\n"
":10257000B88BD60725CFC68DA49F41F1899BCAFA97\r\n"
":10258000648163732F2F115D323D717EDD06C00CB7\r\n"
":10259000CB3481488166E0ADBD3A008BCF8DEFA48E\r\n"
":1025A000FCD467E9EDDC452A592FEEC2DB5A07D08F\r\n"
":1025B000660E6681C330B4E37F8BBDB4DA34EEEED1\r\n"
":1025C000FE2D713A395AEDE5F9EBE5B10C532A3796\r\n"
":1025D000CF04F9FE7CD35A68570B5498488DDB80A2\r\n"
":1025E000E978B714454CA3A20C11DB0206EBA6A6B2\r\n"
":1025F000036341D9CBE58AA5F2FBCAF9924D75F880\r\n"
":10260000B710785D457D756AE6FD8EC25F7ACA03B4\r\n"
":10261000979761799F4F8FEF4507BB7EFEB31AA74F\r\n"
":10262000873361713A746D98A0B047A6070341459E\r\n"
":1026300009B10A453E5FAA6ECBD8DA4D83E26B132F\r\n"
":10264000A061A3C0F9108E011EADD7B96BC1697925\r\n"
":102650003D3645EA481946DC54F76528700806A857\r\n"
":1026600082A57BDED42C970DE0CC6D1B57E5CA60AC\r\n"
":10267000CA8ABD39AAA9915E8E12842ECDFAD35E84\r\n"
":10268000E615B8534A89B30EBF3F901B9A9E326C31\r\n"
":10269000AFE335E1573D661C5FD6A28333EEE51408\r\n"
":1026A000F199F6B47D8C67A2C8FB260940C1374F6B\r\n"
":1026B0007397E7434BE2EB8F205550FF65FF1E45B4\r\n"
":1026C0005BF8FD87086AA4751AF6184437E4F5EB41\r\n"
":1026D0000A69ED64C582F6190631C2CD1A5D01B7EB\r\n"
":1026E000676E1DCD38DFCE56E8C966ED2DD120E1ED\r\n"
":1026F000B86DA88BB99E1410FE3ACABA5CD602A96E\r\n"
":10270000DE2CC4B4CE31918150CA6F365508C45FF7\r\n"
":10271000E998A66709070C7AC041AE20F94125A6C1\r\n"
":102720000DD77808F8B9E372D66FB24C338A4DC72B\r\n"
":102730007D9533C344E392DA33A54B88A153852EAC\r\n"
":10274000C27D191E9C40A909EDFAD591FD8AC4BD30\r\n"
":10275000252343B7079489A97CEB2E473800EC6A00\r\n"
":102760005B8BA960EFCD4A2AA540A5400401FA4839\r\n"
":10277000A171C6A279765D740C17051C97ED15370B\r\n"
":1027800061E59FDA91404A7F857129621B56892352\r\n"
":102790009FC1BB325A3BAE5FC23A90AD364A36B5A6\r\n"
":1027A000B325DB785D24D72037A4C9012941E32074\r\n"
":1027B0003AC16DD83CB9CB5469E665A3E261F77ABA\r\n"
":1027C00035EDB6E64F8220306F1156B19BBFFD1F2D\r\n"
":1027D000F07AF5103F3364EEDF46945ADBFC02B426\r\n"
":1027E0007FC64BAF4DCD06BA5B70D4AD90BB7E714A\r\n"
":1027F000195C62F0D9DEBC3C617F50652D0A72889D\r\n"
":1028000069F4D5DA1F2B659ADD010A30C056200124\r\n"
":1028100027CDDDF473BF87584F6D5212DCD725CD1D\r\n"
":102820003DB1777861066B63C5CC9A36B53AF9C687\r\n"
":10283000DF285838D962987E254E6FD0BF6D201D95\r\n"
":10284000785CF3AD392EB4DDCDFCF29C66EFC44666\r\n"
":10285000234739DF6B786FB5C2E0B2E4021CAC26C7\r\n"
":10286000B6EAEFDDEBE90439EE93D67AF2E426DB43\r\n"
":1028700042BB0CDB8D02F2077AEDCC32FEEB128DFF\r\n"
":102880007B475BCF364AB290AEAEC346D77E67D9A0\r\n"
":102890000D88227442908024BA20E0C220ACD190EE\r\n"
":1028A0005E18705CAE52A56BC50F7EFF869126093F\r\n"
":1028B00084A98AB6ACFA846C5C4F1F451061E80AA3\r\n"
":1028C0005B95051FFCD772A970AE1D7FE3F6C1BFF3\r\n"
":1028D00064A1111C54D564788C5A9E39EC7FCF27A3\r\n"
":1028E000953852E4F2EC112635262F8676FD704B92\r\n"
":1028F00097AC7E055B1931481FD3130BCCAE2AC2AF\r\n"
":102900009E79558A96E20206048F2F322B6DD840AD\r\n"
":1029100072E3320DEEB2C1311A25CF65033F686D07\r\n"
":10292000BD483DB17EA2FCC6FD58B679208B69A09A\r\n"
":102930002BE5B9623AE35D269DF9A58B136BC818A8\r\n"
":10294000A11CF3DE2BA75E985C19DF316579DE539D\r\n"
":10295000AA49E7D5C9708137C1A3B8CD7B79A072E8\r\n"
":10296000A17BF4C7F2954DC86AC7243942D3BED0C3\r\n"
":1029700025EDBE90D4771B2EDFF3184246C49F4E40\r\n"
":10298000F5D937A1C3EC1FFC067C3DBFCBAEB833F5\r\n"
":10299000575AB76D901827EA665BD5ABBD1C1DBCB6\r\n"
":1029A000857FDECFDDE0D794F2F41DDC4F60E6C812\r\n"
":1029B00030E88EB7FDC8FC6E1AB0631AF7776D7DEC\r\n"
":1029C0005151255FB693344C9C6A1A967CB5AF2F53\r\n"
":1029D000260CB96F9EDB7A67ECF0D43AE508041F49\r\n"
":1029E000401198865334E2B2EDB508D0902B912374\r\n"
":1029F00075F28BC1F016D4A4EC23B90BD1A3E39DDF\r\n"
":102A000054D5EB4186A516953998B46BEFAF176492\r\n"
":102A10009CED8C9E86392818065066BCB563C9DECD\r\n"
":102A20002A7FD0FA614771DAEA8597EDA5EC592340\r\n"
":102A300044ADF1EAD944E67F73F5AE1C7D6E6E407D\r\n"
":102A40004FF9CC44D453D24A650B8231072644B5A2\r\n"
":0C2A50004296C724286F9DED9B859C9B3F\r\n"
":04000005200000696E\r\n"
":00000001FF\r\n";

static const uint8_t fac_calib[APP0_FAC_CALIB_SIZE] =
{
  0x31, 0x36, 0x00, 0x1A, 0xC5, 0x1F, 0xBE, 0xFB, 0xFB, 0xF1, 0xDB, 0xD7, 0x07, 0x04
};

static uint8_t do_factory_calib = 0;
static uint32_t exit_num_results = 0;

static struct tmf8801_ctx tmf8801 =
{
    .i2c_addr = TMF8801_I2C_ADDR,
};


int clock_gettime(clockid_t clock_id, struct timespec *tp)
{
    tp->tv_sec = get_system_second();
    tp->tv_nsec = 0;
}


static int32_t start_factory_calib(struct tmf8801_ctx *tmf8801)
{
    int32_t flags = 0;
    int32_t error = 0;

    if (!tmf8801)
        return -1;

    error = tof8801_app0_start_fac_calib(tmf8801);
    if (error)
    {
        fprintf(stderr, "Error starting factory calibration\n");
    }

    do
    {
        msleep(1000);
        flags = tof8801_app0_interrupt_status(tmf8801);
        if (flags < 0)
        {
            fprintf(stderr, "Error reading int status\n");
            return -1;
        }
    } while (flags == 0);

    tof8801_app0_process_irq(tmf8801);

    return 0;
}


static int32_t do_fwdl(const char *filename)
{
    uint8_t *line = NULL;
    int16_t read = 0;
    uint16_t len = 0;
    uint8_t *current_point = (uint8_t *)&firmware_file[0];
    uint8_t *end_point = current_point;
    uint16_t file_size = strlen(firmware_file);
    int32_t error = 0;

    if (!filename)
    {
        return -1;
    }

    error = tof8801_BL_upload_init(&tmf8801, &tmf8801.BL_app, BL_DEFAULT_SALT);
    if (error)
    {
        return error;
    }

    intelHexInterpreterInitialise();

    while (current_point < (firmware_file + file_size))
    {
        while ('\r' != *end_point)
        {
            end_point++;
        }
        len = end_point - current_point;

        error = intelHexHandleRecord(&tmf8801, &tmf8801.BL_app, len, current_point, 0);
        if (error)
        {
            return error;
        }

        current_point = end_point + 2;
        end_point = current_point;
    }

    if (line)
    {
        free(line);
    }

    //NRF_LOG_INFO("Using builtin fw image start addr: 0x%08x size: 0x%08x\n", tof_bin_image_start, tof_bin_image_length);

    return 0;
}


static int32_t tof_bl_preinit(void)
{
    int32_t error = 0;

    write_gpio(GPIO_TOF_EN_PIN, 1);

    msleep(10);

    error = tof8801_wait_for_cpu_ready(&tmf8801);
    if (error)
    {
        NRF_LOG_INFO("Error waiting for CPU_READY status\r\n");
        return error;
    }

    msleep(10);

    // initialize bootloader app
    tof8801_BL_init_app(&tmf8801.BL_app);
    
    // Download app0 firmware
    error = do_fwdl(firmware_file);
    if (error)
    {
        NRF_LOG_INFO("Error (%d) performing FWDL\r\n", error);
        return error;
    }

    // initialize app0 app
    tof8801_app0_init_app(&tmf8801);

    NRF_LOG_INFO("App0 version: %u.%u.%u.%u\r\n",
            tmf8801.app0_app.version[0],tmf8801.app0_app.version[1], tmf8801.app0_app.version[2],
            tmf8801.app0_app.version[3] | (tmf8801.app0_app.version[4] << 8));
}


void tof_init(uint8_t calib_signal)
{
    int32_t error = 0;

    error = tof_bl_preinit();
    if (error)
    {
        NRF_LOG_INFO("Failed to start TMF8801\r\b");
    }

    if (calib_signal)
    {
        NRF_LOG_INFO("Calibration starts\r\n");

        error = start_factory_calib(&tmf8801);
        if (error)
        {
            NRF_LOG_INFO("Error performing factory calibration: %d\r\n", error);
        }
    }
    else
    {
        error = tof8801_app0_set_fac_calib(&tmf8801, fac_calib, APP0_FAC_CALIB_SIZE);
        if (error)
        {
                NRF_LOG_INFO("Error configuring factory calibration data: %d\r\n", error);
                return;
        }
    }
    
    (void) tof8801_app0_set_default_capture_settings(&tmf8801);

    error = tof8801_app0_start_capture(&tmf8801);
    if (error)
    {
        NRF_LOG_INFO("Error starting measurements: %d\r\n", error);
        return;
    }

    NRF_LOG_FLUSH();
}


void tof_measure(uint32_t *num, uint32_t *distance, uint32_t *conf)
{
    tof8801_app0_process_irq(&tmf8801);
    *num = tof8801_app0_get_last_result(&tmf8801, distance, conf);
}
